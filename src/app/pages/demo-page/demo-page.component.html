<nz-card [nzTitle]="header" *ngIf="room; else loading">
  <div class="wrapper">
    <div class="sidebar">
      <div class="name">
        <strong>{{ room.tenantName }}</strong>
        <small><i nz-icon nzType="calendar"></i> {{ room.occupiedFor }}</small>
      </div>

      <div class="actions">
        <nz-list>
          <nz-list-item>
            <strong>User</strong>
          </nz-list-item>
          <nz-list-item>
            <strong>Consumables</strong>
          </nz-list-item>
          <nz-list-item>
            <strong>Service</strong>
          </nz-list-item>
        </nz-list>
      </div>
    </div>
    <div class="content">
      <div class="device">
        <iframe
          width="100%"
          height="100%"
          src="http://remote.uniqueautomation.co.uk/cgi-bin/bathomatic.cgi/65/3018efc8-8be6-4bd6-ba47-e098bd3e3f89"
          frameborder="0"
        ></iframe>
        <!-- <div class="device-header">
          <img src="/assets/bathomatic_white.png" alt="" />
        </div>
        <div class="device-main">
          <div class="name">Bath oils</div>
          <div class="visual-wrapper">
            <span class="degrees">37C</span>
            <img
              style="width: 100%"
              src="/assets/outline/device-bath.svg"
              alt=""
            />
            <span class="fill-percent">10%</span>
          </div>
        </div>
        <div class="device-footer">
          <div class="status">Filling</div>
          <div class="controls">
            <span>38C</span>
            <button
              nzDanger
              class="power-off"
              nz-button
              nzShape="circle"
              nzGhost
            >
              <i nz-icon nzType="poweroff"></i>
            </button>
            <span>90%</span>
          </div>
        </div> -->
      </div>
      <div class="stream">
        <iframe
          width="100%"
          height="100%"
          src="https://www.youtube.com/embed/GdzrrWA8e7A?autoplay=1"
          frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
        ></iframe>
        <div class="stream-description">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Ut est in
          quidem quam distinctio odit ipsum eos, voluptatum corporis veniam
          doloremque facilis. Porro, sequi eaque? Esse non dolores beatae quia.
        </div>
      </div>
    </div>
  </div>

  <nz-divider nzOrientation="left" [nzText]="expandIcon"></nz-divider>
  <ng-template #expandIcon>
    <a (click)="showData = !showData"
      ><i nz-icon nzType="{{ showData ? 'menu-unfold' : 'menu-fold' }}"></i
    ></a>
    Data
  </ng-template>
  <div *ngIf="showData" class="data">
    <ngx-charts-line-chart
      [view]="[700, 350]"
      [scheme]="colorScheme"
      [legend]="legend"
      [legendPosition]="'below'"
      [xAxis]="xAxis"
      [yAxis]="yAxis"
      [timeline]="timeline"
      [results]="data"
    ></ngx-charts-line-chart>
    <nz-table style="margin-top: 16px" #basicTable [nzData]="tableData">
      <thead>
        <tr>
          <th><i nz-icon nzType="bath"></i> Bathomatic</th>
          <th>Preset</th>
          <th>Depth</th>
          <th>Temp</th>
          <th>Scent</th>
          <th>Drops</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let entry of basicTable.data">
          <td>{{ entry.Bathomatic }}</td>
          <td>{{ entry.presets }}</td>
          <td>{{ entry.depth }}</td>
          <td>{{ entry.temp }}</td>
          <td>{{ entry.scent }}</td>
          <td>{{ entry.drop }}</td>
        </tr>
      </tbody>
    </nz-table>
  </div>
</nz-card>

<ng-template #loading>
  <div
    style="
      display: flex;
      justify-content: center;
      align-items: center;
      height: calc(100vh - 112px);
    "
  >
    <nz-spin nzSimple [nzSize]="'large'"></nz-spin>
  </div>
</ng-template>

<ng-template #header>
  <nz-page-header
    style="padding: 0"
    nzBackIcon
    nzTitle="Room"
    nzSubtitle="#{{ room.roomNumber }} f{{ room.roomFloor }}"
  >
  </nz-page-header>
</ng-template>
